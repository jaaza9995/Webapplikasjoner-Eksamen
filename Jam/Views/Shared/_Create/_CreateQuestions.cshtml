@model Jam.ViewModels.CreateStoryViewModel

<h4>Questions</h4>

@for (int i = 0; i < Model.Questions.Count; i++)
{
    // Section for Questions
    <div class="card p-3 mb-3 shadow-sm">
        <div class="form-group mb-2">
            <label>Question <span class="text-danger">*</span></label>
            <input asp-for="Questions[@i].QuestionText" class="form-control" placeholder="Write your question here..." />
            <span asp-validation-for="Questions[@i].QuestionText" class="text-danger"></span>
        </div>

        <!--Section for Answer Options -->
        <h6 class="mt-3">Answer Options <small>(check off the correct answer)</small></h6>
        @for (int a = 0; a < Model.Questions[i].Answers.Count; a++)
        {
            <div class="form-group mb-2">
                <label>Answers <span class="text-danger">*</span></label>
                <div class="d-flex align-items-center gap-2">
                    <input asp-for="Questions[@i].Answers[@a]" class="form-control" placeholder="Answer option @(a + 1)" />
                    <input type="checkbox" asp-for="Questions[@i].IsCorrect[@a]" class="form-check-input" title="Mark as correct" />
                </div>
                <span asp-validation-for="Questions[@i].Answers[@a]" class="text-danger"></span>
            </div>
        }


        <!-- Section for Feedback -->
        <h6 class="mt-4">Feedback</h6>
        @for (int a = 0; a < Model.Questions[i].Feedbacks.Count; a++)
        {
            <div class="form-group mb-2">
                <label>Feedback for Answer @(a + 1) <span class="text-danger">*</span></label>
                <textarea asp-for="Questions[@i].Feedbacks[@a]" class="form-control" placeholder="Write feedback for answer @(a + 1)..."></textarea>
                <span asp-validation-for="Questions[@i].Feedbacks[@a]" class="text-danger"></span>
            </div>
        }


        <!-- Delete Question Button -->
        <button type="button" class="btn btn-danger mt-2">Delete Question</button>
    </div>
}

<!-- Add New Question Button -->
<button type="button" class="btn btn-success mt-3">Add Question</button>

